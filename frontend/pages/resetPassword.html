<form id="resetPasswordForm">
    <input type="password" id="newPassword" placeholder="New Password" required />
    <button type="submit">Update Password</button>
</form>

<script>
document.getElementById("resetPasswordForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const token = window.location.pathname.split("/").pop();
    const newPassword = document.getElementById("newPassword").value;

    try {
        const res = await fetch("http://localhost:5000/api/auth/reset-password", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ token, newPassword }),
        });
        const data = await res.json();
        alert(data.message || "Password updated successfully!");
    } catch (error) {
        alert("Something went wrong!");
    }
});
</script>
